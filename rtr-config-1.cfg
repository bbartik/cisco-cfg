
service password-encryption
service tcp-keepalives-in
service tcp-keepalives-out
service timestamps debug datetime msec localtime show-timezone
service timestamps log datetime msec localtime show-timezone
service sequence-numbers
no service tcp-small-servers
no service udp-small-servers
!
no ip source-route
ip routing
ip cef
ip tcp synwait-time 10
!
hostname EdgeR1
!
logging buffered 500000
no logging console
enable secret cisco
!
aaa new-model
!
!
aaa authentication login default local
aaa authorization exec default local
!
ip domain-name bb.lab	
!
ip name-server 8.8.8.8 
ip name-server 8.8.4.4 
!
username cisco privilege 15 cisco
!
!
interface Loopback0
 ip address 10.1.1.1 255.255.255.255
!
!
!
interface Ethernet1/0
 ip address 100.1.1.1 255.255.255.252
 no shutdown
!
interface Ethernet1/0
 ip address 100.2.2.1 255.255.255.252
 no shutdown
!
!
interface Ethernet1/2
 ip address 192.168.1.1 255.255.255.0
 no shutdown
!
!
! 

router ospf 1 
 log-adjacency-changes 
 network 192.168.1.0 255.255.255.0 area 0 
 redistribute bgp 65000 route-map BGP-TO-OSPF subnets
!
! 
!
router bgp 65000 
 bgp log-neighbor-changes 
 network 192.168.1.0 mask 255.255.255.0  
 neighbor 100.1.1.2 remote-as 100 
 neighbor 100.2.2.2 remote-as 200 
 redistribute ospf 1 route-map OSPF-TO-BGP
! 
!
!
!
route-map OSPF-TO-BGP permit 10  
!
!
route-map BGP-TO-OSPF permit 10  

!
!
logging source-interface loopback0 
logging 10.1.1.50 
!
ntp source loopback0 
ntp server 100.1.1.2 
ntp server 100.2.2.2 
!
!
ip ftp source-interface loopback0
ip tftp source-interface loopback0
ip ssh source-interface loopback0
snmp-server trap-source loopback0
ip tacacs source-interface loopback0
ip radius source-interface loopback0
!
!
ip ssh authentication-retries 3
ip ssh version 2
crypto key generate rsa general-keys modulus 1024
no ip http server
no ip http secure-server
!
!
ip access-list standard REMOTE_ACCESS
 permit 10.1.99.0 0.0.0.255
 deny any log
ip access-list standard SNMP_RO_IN 
 permit 10.1.99.80 0.0.0.0 
 permit 10.1.99.81 0.0.0.0 
 deny any log
ip access-list standard SNMP_RW_IN 
 permit 10.1.99.80 0.0.0.0 
 permit 10.1.99.81 0.0.0.0 
 deny any log
!
snmp-server community priv4teStriNg ro SNMP_RO_IN
snmp-server community publ1cStrinG rw SNMP_RW_IN
snmp-server ifindex persist
snmp-server location Portland, OR
snmp-server contact  Bryan
snmp-server chassis-id EdgeR1
snmp-server enable traps snmp authentication linkdown linkup coldstart warmstart
snmp-server enable traps tty
snmp-server enable traps envmon fan shutdown supply temperature status
snmp-server enable traps config
snmp-server enable traps entity 
!
line con 0
 logging synchronous
 exec-timeout 10
 transport preferred none
line vty 0 15
 access-class REMOTE_ACCESS in
 transport input ssh
 logging synchronous
 exec-timeout 10
 transport preferred none
!